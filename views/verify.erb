<h2>Blockchain Integrity Check</h2>

<% @chain.each_with_index do |block, i| %>
  <div class="block <%= i == 0 ? 'genesis' : (@results[i - 1][:valid] ? 'valid' : 'invalid') %>">
    <p><strong>Index:</strong> <%= block.index %></p>
    <p><strong>Hash:</strong> <%= block.hash %></p>
    <p><strong>Previous Hash:</strong> <%= block.previous_hash %></p>
    <p><strong>Timestamp:</strong> <%= block.timestamp %></p>
    <p><strong>Data:</strong> <%= block.data %></p>
    <p><strong>Nonce:</strong> <%= block.nonce %></p>
    <p><strong>Signature:</strong> <%= block.signature %></p>
    <% if i > 0 %>
      <p><strong>Status:</strong>
        <%= @results[i - 1][:valid] ? "✅ Valid" : "❌ Tampered" %>
      </p>
    <% else %>
      <p><strong>Type:</strong> Genesis Block</p>
    <% end %>
  </div>
<% end %>